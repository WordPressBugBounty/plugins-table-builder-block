(()=>{"use strict";var e={20:(e,t,l)=>{var r=l(609),o=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,l){var r,c={},s=null,d=null;for(r in void 0!==l&&(s=""+l),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:d,props:c,_owner:a.current}}},848:(e,t,l)=>{e.exports=l(20)},609:e=>{e.exports=window.React}},t={};function l(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,l),n.exports}var r=l(609);const o=window.wp.blocks,n=window.wp.data,a=window.wp.i18n,i=window.wp.element,c=window.wp.blockEditor,s=window.wp.primitives;var d=l(848);const u=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),b=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),v=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),h=(0,i.memo)((({attributes:e,setAttributes:t,device:l,advancedControl:o})=>{const{GkitChoose:n,GkitPanelBody:i,GkitResponsive:s,GkitTabs:d,GkitBackgrounGroup:h,GkitBoxControl:m,GkitBorderControl:w,GkitRangeUnit:p}=window?.tableBuilder?.components,{gkitResponsiveValue:k,responsiveHelper:g,colorsGroup:B}=window?.tableBuilder?.helpers;return(0,r.createElement)(c.InspectorControls,{key:"setting"},(0,r.createElement)(d,{type:"top-level",tabs:[{name:"style",title:(0,a.__)("Style","table-builder-block")}]},(o=>"style"===o.name?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i,{title:(0,a.__)("Layout","table-builder-block"),initialOpen:!0},(0,r.createElement)(s,null,(0,r.createElement)(n,{label:(0,a.__)("Alignment","table-builder-block"),value:k(e,"alignment",l),options:[{label:"Left",value:"left",icon:u},{label:"Center",value:"center",icon:b},{label:"Right",value:"right",icon:v}],onChange:e=>g("alignment",e,l,t)})),(0,r.createElement)(s,null,(0,r.createElement)(p,{label:(0,a.__)("Width","table-builder-block"),value:k(e,"tableBuilderItemWidth",l),onChange:e=>g("tableBuilderItemWidth",e,l,t),units:{px:{min:0,max:1e3},rem:{min:0,max:100,step:1},em:{min:0,max:100,step:1},"%":{min:0,max:100,step:1}}})),(0,r.createElement)(s,null,(0,r.createElement)(m,{label:(0,a.__)("Padding","table-builder-block"),values:k(e,"padding",l),onChange:e=>g("padding",e,l,t)}))),(0,r.createElement)(i,{title:(0,a.__)("Background","table-builder-block"),initialOpen:!1},(0,r.createElement)(d,{type:"normal",tabs:[{name:"normal",title:(0,a.__)("Normal","table-builder-block")},{name:"hover",title:(0,a.__)("Hover","table-builder-block")}]},(l=>"normal"===l.name?(0,r.createElement)(h,{label:(0,a.__)("Background","table-builder-block"),value:e?.tableBuilderItemBackground,onChange:e=>t({tableBuilderItemBackground:e}),exclude:{video:!0}}):"hover"===l.name?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(h,{label:(0,a.__)("Background","table-builder-block"),value:e?.tableBuilderItemHoverBackground,onChange:e=>t({tableBuilderItemHoverBackground:e}),exclude:{video:!0}})):void 0))),(0,r.createElement)(i,{title:(0,a.__)("Border","table-builder-block"),initialOpen:!1},(0,r.createElement)(d,{type:"normal",tabs:[{name:"normal",title:(0,a.__)("Normal","table-builder-block")},{name:"hover",title:(0,a.__)("Hover","table-builder-block")}]},(l=>"normal"===l.name?(0,r.createElement)(w,{label:(0,a.__)("Border"),colors:B,onChange:e=>t({tableBuilderItemBorder:e}),value:e?.tableBuilderItemBorder}):"hover"===l.name?(0,r.createElement)(w,{label:(0,a.__)("Border"),onChange:e=>t({tableBuilderItemHoverBorder:e}),value:e?.tableBuilderItemHoverBorder}):void 0)))):o.name)))})),m=window.wp.compose,w=window.wp.components,p=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"})}),k=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z"})}),g=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"})}),B=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"})}),H=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z"})}),V=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,d.jsx)(s.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"})}),_=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z"})}),x=JSON.parse('{"UU":"tablebuilder/table-builder-item"}');(0,o.registerBlockType)(x.UU,{edit:function({attributes:e,setAttributes:t,clientId:l,context:s,advancedControl:d}){const{GkitStyle:u}=window?.tableBuilder?.components,{useDeviceType:b,useBlockStyles:v,useDeviceList:x}=window?.tableBuilder?.helpers,f=(0,i.useRef)(null),[z,E]=(0,i.useState)(null),[C,I]=(0,i.useState)(null),[S,y]=(0,i.useState)(null),[M,j]=(0,i.useState)(!1),G=x(),P=b(),L="core/block-editor",A=(0,c.useBlockProps)({className:"gkit-table__body-content",ref:(0,m.useMergeRefs)([f])}),O=(0,c.useInnerBlocksProps)({},{templateLock:!1,template:[["core/paragraph"]]});function R(){const e=f.current?.closest(".gkit-table");return e?e.querySelectorAll(".gkit-table__body-row"):[]}function Z(e){if(!M)return;const t=R(),l=Array.from(t).findIndex((e=>e.id===`block-${C}`));if(-1===l)return;const r=(0,o.createBlock)("tablebuilder/table-builder-row"),a=(0,n.select)(L).getBlocks(z);a.splice(l+e,0,r),(0,n.dispatch)(L).replaceInnerBlocks(z,a),(0,n.dispatch)(L).updateBlockAttributes(z,{rowCount:a.length})}function $(e){if(!M||!S)return;const t=R(),r=S.innerBlocks.findIndex((e=>e.clientId===l));if(-1===r)return;t.forEach((t=>{const l=t.id.replace("block-",""),a=(0,n.select)(L).getBlocks(l),i=(0,o.createBlock)("tablebuilder/table-builder-item");a.splice(r+e,0,i),(0,n.dispatch)(L).replaceInnerBlocks(l,a)}));const a=[...s["tablebuilder/table-headers"]],i=[...s["tablebuilder/table-footers"]],c=r+e;a.splice(c,0,{}),i.splice(c,0,{});for(let e=c;e<a.length;e++)a[e].title=`Header ${e+1}`,i[e].title=`Footer ${e+1}`;(0,n.dispatch)(L).updateBlockAttributes(z,{headers:a,footers:i,columnCount:s["tablebuilder/table-columnCount"]+1})}(0,i.useEffect)((()=>{const e=(0,n.select)(L).getBlockParents(l),t=e[e.length-1],r=(0,n.select)(L).getBlock(t);e.length>0&&r&&(E(e[0]),I(t),y(r),j(!0))}),[l]);const D=[{icon:p,title:(0,a.__)("Insert row before"),onClick:function(){Z(0)}},{icon:k,title:(0,a.__)("Insert row after"),onClick:function(){Z(1)}},{icon:g,title:(0,a.__)("Delete row"),isDisabled:1==s["tablebuilder/table-rowCount"],onClick:function(){M&&((0,n.dispatch)(L).removeBlock(C),(0,n.dispatch)(L).updateBlockAttributes(z,{rowCount:s["tablebuilder/table-rowCount"]-1}))}},{icon:B,title:(0,a.__)("Insert column before"),onClick:function(){$(0)}},{icon:H,title:(0,a.__)("Insert column after"),onClick:function(){$(1)}},{icon:V,title:(0,a.__)("Delete column"),isDisabled:1==s["tablebuilder/table-columnCount"],onClick:function(){if(!M||!S)return;const e=R(),t=S.innerBlocks.findIndex((e=>e.clientId===l));if(-1===t)return;e.forEach((e=>{const l=e.id.replace("block-",""),r=(0,n.select)(L).getBlocks(l).filter(((e,l)=>l!==t));(0,n.dispatch)(L).replaceInnerBlocks(l,r)}));const r=s["tablebuilder/table-headers"].filter(((e,l)=>l!==t)),o=s["tablebuilder/table-footers"].filter(((e,l)=>l!==t));(0,n.dispatch)(L).updateBlockAttributes(z,{headers:r,footers:o,columnCount:s["tablebuilder/table-columnCount"]-1})}}];return v(e,t,"blocksCSS",((e,t)=>{const{parseCSS:l,getBoxValue:r,backgroundGenerator:o,getBorderValue:n,getSliderValue:a}=window?.tableBuilder?.helpers,i=e.blockClass;return l([[{selector:`.gkit-table tbody .${i}`,background:o(e?.tableBuilderItemBackground).background,...n(e?.tableBuilderItemBorder)},{selector:`.gkit-table tbody .${i}:hover`,background:o(e?.tableBuilderItemHoverBackground).background,...n(e?.tableBuilderItemHoverBorder)}],t=>[{selector:`.gkit-table tbody .${i}`,"text-align":e[`alignment${t}`],width:a(e?.[`tableBuilderItemWidth${t}`]),...r(e[`padding${t}`],"padding")}]],t)})(e,G)),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(u,{blocksCSS:e?.blocksCSS}),(0,r.createElement)(h,{attributes:e,setAttributes:t,device:P,advancedControl:d}),(0,r.createElement)(c.BlockControls,{group:"other"},(0,r.createElement)(w.ToolbarDropdownMenu,{hasArrowIndicator:!0,icon:_,label:(0,a.__)("Edit table"),controls:D})),(0,r.createElement)("td",{...A},(0,r.createElement)("div",{...O})))},icon:{src:(0,r.createElement)("svg",{className:"gkit-editor-icon",fill:"currentColor",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"M2 4v8h10V2H2ZM0 2a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z"}))},save:function({attributes:e}){const t=c.useBlockProps.save({className:"gkit-table__body-content"}),l=c.useInnerBlocksProps.save();return(0,r.createElement)("td",{...t},(0,r.createElement)("div",{...l}))}})})();